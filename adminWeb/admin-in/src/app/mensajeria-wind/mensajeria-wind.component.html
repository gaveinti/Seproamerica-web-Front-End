<section id="ventada-mensajeria">
    <div id="historial-mensajes">
        <div *ngFor="let message of mensajeriaService.chats" id="historial-mensaje">
                <div (click)="clickOnChat(message)" id="item-mensaje">
                    <div id="nombre-servicio">{{message.receptor}} <br> Servicio <br>{{message.servicio}}</div>
                    <div >
                        
                        <!--                <span id="info-envio" >De Trabajador encargado a Todos</span>-->
                        <span  id="info-envio">{{message.nombre_perfil}} 
                            <span id="info-envio" *ngIf='message.rol=="1"'>(Yo)</span>
                            <span id="info-envio" *ngIf='message.rol=="1"'> - Administrador</span>
                            <span id="info-envio" *ngIf='message.rol=="2"'> - Cliente</span>
                            <span id="info-envio" *ngIf='message.rol=="3"'> - Empleado</span>

                        </span>
                        


                        <p id="mensaje">{{message.texto.split(" ").splice(0, 8).join(" ")}} </p>
                    </div>
                </div>
                <hr>
        </div>

    </div>
    <div id="sala-mensajes">
        <div  class="mensajes">
            <div class="position-fixed">
                
                <div id="nombre-servicio">
                    <div>{{mensajeriaService.nombre_usuario_receptor}}</div>
                    <div>Servicio <br> {{mensajeriaService.servicio_actual}}</div>
                    <div></div>
                </div>

            </div>
            <br><br><br>
            <p *ngFor="let message of mensajeriaService.contactosMensajes" 
            class="sms-general" [ngClass]="{'sms-recibido' : message.correo_usuario==mensajeriaService.usuario_receptor,'sms-enviado' : message.correo_usuario==mensajeriaService.usuario_logeado}">
            {{message.texto}}
            <span class="tiempo " text-right><br>{{ message.tiempo | date:'short' }}</span>

        </p>
        </div>
        <form (submit)="sendMessage()">
            <input [(ngModel)]="textSms" [ngModelOptions]="{standalone:true}" placeholder="Escribir un mensaje..."
                type="text" id="entrada-mensaje">
        </form>
    </div>

</section>
